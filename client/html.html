<!-- napraw sume order w foot -->
<head>
    <title>Wawelska Kooperatywa Spożywcza</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
<div class="container">
    <header>
        <div class="row">
            {{atNavButton}}
            {{#if currentUser}}
                <a class="btn-flat logout">Wyloguj</a>
            {{else}}
                <!-- Modal Trigger -->
                <a class="waves-effect waves-light btn-flat modal-trigger login" href="#modal1">Zaloguj</a>

                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content">
                        {{> atForm}}
                    </div>
                </div>
            {{/if}}
            <!--loginButtons:{{> loginButtons}}-->

            <h3 class="center">Wawelska Kooperatywa Spożywcza</h3>
        </div>
    </header>
    <main>
        {{>insertProduct}}

        <div class="row">
            <div class="col {{#if isInRole 'buyer'}}s8{{else}} s12{{/if}}">
                {{>productsList}}
            </div>
            {{#if isInRole 'buyer'}}
            <div class="col s4">
                {{>ordersList}}
            </div>
            {{/if}}
        </div>
    </main>
</div>
</body>

<template name="productsList">
    {{#if currentUser}}
        <!--BUYERS PRODUCTS LIST-->
        {{#if isInRole 'buyer'}}
            <table id="productsList centered">
                <caption><h5>Lista produktów</h5></caption>
                <thead>
                <tr>
                    <th class="name">Nazwa{{#if nameTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th class="producer">Producent{{#if producerTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th class="price">Cena{{#if priceTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th>Pozostało</th>
                    <th>Zamów</th>
                </tr>
                </thead>
                <!-- <tfoot><tr><td>Pusto!{{orderSum}}</td></tr></tfoot> -->
                <tbody>
                {{#each showProducts}}
                    <tr>
                        <td>{{productName}}</td>
                        <td>{{producer}}</td>
                        <td>{{price}} zł/{{unit}}</td>
                        <td>{{quantity}}</td>
                        <td>
                            <!--<div class="col s6">-->
                            <input type="text" name="quantity" min="0" max="10" step="0.1" class="orderProduct quantity" />
                            <!--</div>-->
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        {{/if}}
        <!--SELLERS PRODUCTS LIST-->
        {{#if isInRole 'seller'}}
            <table id="productsList centered">
                <caption><h5>Lista produktów</h5></caption>
                <thead>
                <tr>
                    <th class="name">Nazwa{{#if nameTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th class="producer">Producent{{#if producerTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th class="price">Cena{{#if priceTriangle}} {{{sortOrder}}}{{/if}}</th>
                    <th>Ilość</th>
                </tr>
                </thead>
                <tbody>
                {{#each showProducts}}
                    <tr>
                        <td>{{productName}}</td>
                        <td>{{producer}}</td>
                        <td>{{price}} zł/{{unit}}</td>
                        <td>{{quantity}}</td>
                        <td><button class="delete waves-effect waves-teal btn-flat">
                            <i class="material-icons delete">close</i>
                        </button></td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        {{/if}}
    {{else}}
        <!--LOGGED OUT PRODUCTS LIST-->
        <table id="productsList centered">
            <caption><h5>Lista produktów</h5></caption>
            <thead>
            <tr>
                <th class="name">Nazwa{{#if nameTriangle}} {{{sortOrder}}}{{/if}}</th>
                <th class="producer">Producent{{#if producerTriangle}} {{{sortOrder}}}{{/if}}</th>
                <th class="price">Cena{{#if priceTriangle}} {{{sortOrder}}}{{/if}}</th>
                <th>Pozostało</th>
            </tr>
            </thead>
            <!-- <tfoot><tr><td>Pusto!{{orderSum}}</td></tr></tfoot> -->
            <tbody>
            {{#each showProducts}}
                <tr>
                    <td>{{productName}}</td>
                    <td>{{producer}}</td>
                    <td>{{price}} zł/{{unit}}</td>
                    <td>{{quantity}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    {{/if}}
</template>

<template name="ordersList">
        <table>
            <caption><h5>Zamówienie</h5></caption>
            <thead>
            <tr>
                <th>Ilość</th>
                <th>Nazwa</th>
                <th>Producent</th>
                <th>Cena</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {{#each showOrders}}
                <tr>
                    <td>{{quantity}} {{unit}}</td>
                    <td>{{productName}}</td>
                    <td>{{producer}}</td>
                    <td>{{summedPrice}}</td>
                    <td><button class="delete waves-effect waves-teal btn-flat">
                        <i class="material-icons delete">close</i>
                    </button></td>
                </tr>
            {{/each}}
            </tbody>
        </table>
</template>

<template name="insertProduct">
    {{#if isInRole 'seller'}}

        <form class="insertProduct">
            <input type="text" name="productName" placeholder="Nazwa produktu" />
            <input type="text" name="producer" placeholder="Producent" />
            <input type="text" name="opis" placeholder="Opis" />
            <input type="text" name="forum" placeholder="Link do opisu na forum" />
            <input type="text" name="price" placeholder="Cena" />
            <input type="text" name="quantity" placeholder="Ilość" />
            <!--<input type="radio" name="unit" value="kg" checked/>kg-->
            <!--<input type="radio" name="unit" value="szt"/>szt.-->
            <!--AVAILABLE QUANTITIES TO ORDER-->
            <div class="input-field col s12">
                <select multiple>
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <option value="3">Option 3</option>
                </select>
                <!--<label>Materialize Multiple Select</label>-->
            </div>
            <p>Dopuszczalne ilości:</p>
            <input type="checkbox" class="filled-in" id="0.1" checked="checked" />
            <label for="0.1">0.1</label>
            <input type="checkbox" class="filled-in" id="0.2" checked="checked" />
            <label for="0.2">0.2</label>
            <input type="checkbox" class="filled-in" id="0.3" checked="checked" />
            <label for="0.3">0.3</label>
            <input type="checkbox" class="filled-in" id="0.4" checked="checked" />
            <label for="0.4">0.4</label>
            <input type="checkbox" class="filled-in" id="0.5" checked="checked" />
            <label for="0.5">0.5</label>
            <input type="checkbox" class="filled-in" id="0.6" checked="checked" />
            <label for="0.6">0.6</label>
            <input type="checkbox" class="filled-in" id="0.75" checked="checked" />
            <label for="0.75">0.75</label>
            <input type="checkbox" class="filled-in" id="1" checked="checked" />
            <label for="1">1</label>
            <input type="checkbox" class="filled-in" id="2" checked="checked" />
            <label for="2">2</label>
            <input type="checkbox" class="filled-in" id="3" checked="checked" />
            <label for="3">3</label>
            <input type="checkbox" class="filled-in" id="4" checked="checked" />
            <label for="4">4</label>
            <input type="checkbox" class="filled-in" id="5" checked="checked" />
            <label for="5">5</label>
            <input type="checkbox" class="filled-in" id="6" checked="checked" />
            <label for="6">6</label>
            <input type="checkbox" class="filled-in" id="7" checked="checked" />
            <label for="7">7</label>
            <input type="checkbox" class="filled-in" id="8" checked="checked" />
            <label for="8">8</label>
            <input type="checkbox" class="filled-in" id="9" checked="checked" />
            <label for="9">9</label>
            <input type="checkbox" class="filled-in" id="10" checked="checked" />
            <label for="10">10</label>
            <input type="checkbox" class="filled-in" id="15" checked="checked" />
            <label for="15">15</label>
            <input type="checkbox" class="filled-in" id="20" checked="checked" />
            <label for="20">20</label>



            <!--<select multiple>-->
                <!--<option value="" disabled selected>Dopuszczalne ilości</option>-->
                <!--<option value="0.1">0,1</option>-->
                <!--<option value="0.2">0,2</option>-->
                <!--<option value="0.3">0,3</option>-->
                <!--<option value="0.4">0,4</option>-->
                <!--<option value="0.5">0,5</option>-->
                <!--<option value="0.6">0,6</option>-->
                <!--<option value="0.75">0,75</option>-->
                <!--<option value="1">1</option>-->
                <!--<option value="2">2</option>-->
                <!--<option value="3">3</option>-->
                <!--<option value="4">4</option>-->
                <!--<option value="5">5</option>-->
                <!--<option value="6">6</option>-->
                <!--<option value="7">7</option>-->
                <!--<option value="8">8</option>-->
                <!--<option value="9">9</option>-->
                <!--<option value="10">10</option>-->
                <!--<option value="20">20</option>-->
            <!--</select>-->

            <!--UNIT-->
            <div class="row">
            <div class="col s8">
                <p>Jednostki:</p>
                <input name="unit" type="radio" id="kg" value="kg" checked/>
                <label for="kg">kg</label>
                <input name="unit" type="radio" id="szt" value="szt." />
                <label for="szt">szt.</label>
            </div>
            <!--SUBMIT BUTTON-->
            <div class="col s4">
                <br/><br/><input type="submit" value="Dodaj produkt" class="submitProd waves-effect waves-teal btn">
            </div>
            </div>
        </form>
        <div class="row">
            <div class="input-field col s12">
                <select>
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <option value="3">Option 3</option>
                </select>
                <label>Materialize Select</label>
            </div>
        </div>
    {{/if}}
</template>